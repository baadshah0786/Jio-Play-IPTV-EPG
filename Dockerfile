{"payload":{"allShortcutsEnabled":true,"fileTree":{"":{"items":[{"name":".devcontainer","path":".devcontainer","contentType":"directory"},{"name":".github","path":".github","contentType":"directory"},{"name":"assets","path":"assets","contentType":"directory"},{"name":"cmd","path":"cmd","contentType":"directory"},{"name":"internals","path":"internals","contentType":"directory"},{"name":".deepsource.toml","path":".deepsource.toml","contentType":"file"},{"name":".dockerignore","path":".dockerignore","contentType":"file"},{"name":".gitattributes","path":".gitattributes","contentType":"file"},{"name":".gitignore","path":".gitignore","contentType":"file"},{"name":"CODE_OF_CONDUCT.md","path":"CODE_OF_CONDUCT.md","contentType":"file"},{"name":"CONTRIBUTING.md","path":"CONTRIBUTING.md","contentType":"file"},{"name":"Dockerfile","path":"Dockerfile","contentType":"file"},{"name":"LICENSE","path":"LICENSE","contentType":"file"},{"name":"README.md","path":"README.md","contentType":"file"},{"name":"android.sh","path":"android.sh","contentType":"file"},{"name":"go.mod","path":"go.mod","contentType":"file"},{"name":"go.sum","path":"go.sum","contentType":"file"},{"name":"init_script.sh","path":"init_script.sh","contentType":"file"},{"name":"install.sh","path":"install.sh","contentType":"file"},{"name":"package-lock.json","path":"package-lock.json","contentType":"file"},{"name":"package.json","path":"package.json","contentType":"file"},{"name":"tailwind.config.js","path":"tailwind.config.js","contentType":"file"}],"totalCount":22}},"fileTreeProcessingTime":3.806434,"foldersToFetch":[],"reducedMotionEnabled":"system","repo":{"id":682418985,"defaultBranch":"main","name":"jiotv_go","ownerLogin":"rabilrbl","currentUserCanPush":false,"isFork":false,"isEmpty":false,"createdAt":"2023-08-24T11:42:43.000+05:30","ownerAvatar":"https://avatars.githubusercontent.com/u/63334479?v=4","public":true,"private":false,"isOrgOwned":false},"symbolsExpanded":true,"treeExpanded":true,"refInfo":{"name":"main","listCacheKey":"v0:1696086980.0","canEdit":true,"refType":"branch","currentOid":"c4e9f6b02519c7de941392e967ddf2bb39dcccd3"},"path":"Dockerfile","currentUser":{"id":87961897,"login":"baadshah0786","userEmail":"baadshah0786@gmail.com"},"blob":{"rawLines":["FROM --platform=$BUILDPLATFORM golang:1.21-alpine AS builder","","# Set the working directory inside the container","WORKDIR /app","","# Copy source files from the host computer to the container","COPY go.mod ./","COPY go.sum ./","COPY cmd ./cmd","COPY internals ./internals","","# Build the Go app with optimizations","RUN go build -ldflags=\"-s -w\" -trimpath -o /app/jiotv_go ./cmd/jiotv_go","","# Stage 2: Create the final minimal image","# skipcq: DOK-DL3007","FROM alpine:latest ","","# Set the working directory inside the container","WORKDIR /app","","# Copy the built Go executable from the previous stage","COPY --from=builder /app/jiotv_go .","","# Set environment variables","ENV JIOTV_CREDENTIALS_PATH=secrets","","# Volume for credentials","VOLUME /app/secrets","","# Expose port 5001 to the outside world","EXPOSE 5001","","# Command to run the executable","CMD [\"./jiotv_go\", \":5001\"]"],"stylingDirectives":[[{"start":0,"end":4,"cssClass":"pl-k"}],[],[{"start":0,"end":48,"cssClass":"pl-c"},{"start":0,"end":1,"cssClass":"pl-c"}],[{"start":0,"end":7,"cssClass":"pl-k"}],[],[{"start":0,"end":59,"cssClass":"pl-c"},{"start":0,"end":1,"cssClass":"pl-c"}],[{"start":0,"end":4,"cssClass":"pl-k"}],[{"start":0,"end":4,"cssClass":"pl-k"}],[{"start":0,"end":4,"cssClass":"pl-k"}],[{"start":0,"end":4,"cssClass":"pl-k"}],[],[{"start":0,"end":37,"cssClass":"pl-c"},{"start":0,"end":1,"cssClass":"pl-c"}],[{"start":0,"end":3,"cssClass":"pl-k"},{"start":22,"end":29,"cssClass":"pl-s"}],[],[{"start":0,"end":41,"cssClass":"pl-c"},{"start":0,"end":1,"cssClass":"pl-c"}],[{"start":0,"end":20,"cssClass":"pl-c"},{"start":0,"end":1,"cssClass":"pl-c"}],[{"start":0,"end":4,"cssClass":"pl-k"}],[],[{"start":0,"end":48,"cssClass":"pl-c"},{"start":0,"end":1,"cssClass":"pl-c"}],[{"start":0,"end":7,"cssClass":"pl-k"}],[],[{"start":0,"end":54,"cssClass":"pl-c"},{"start":0,"end":1,"cssClass":"pl-c"}],[{"start":0,"end":4,"cssClass":"pl-k"}],[],[{"start":0,"end":27,"cssClass":"pl-c"},{"start":0,"end":1,"cssClass":"pl-c"}],[{"start":0,"end":3,"cssClass":"pl-k"}],[],[{"start":0,"end":24,"cssClass":"pl-c"},{"start":0,"end":1,"cssClass":"pl-c"}],[{"start":0,"end":6,"cssClass":"pl-k"}],[],[{"start":0,"end":39,"cssClass":"pl-c"},{"start":0,"end":1,"cssClass":"pl-c"}],[{"start":0,"end":6,"cssClass":"pl-k"}],[],[{"start":0,"end":31,"cssClass":"pl-c"},{"start":0,"end":1,"cssClass":"pl-c"}],[{"start":0,"end":3,"cssClass":"pl-k"},{"start":5,"end":17,"cssClass":"pl-s"},{"start":19,"end":26,"cssClass":"pl-s"}]],"csv":null,"csvError":null,"dependabotInfo":{"showConfigurationBanner":false,"configFilePath":null,"networkDependabotPath":"/rabilrbl/jiotv_go/network/updates","dismissConfigurationNoticePath":"/settings/dismiss-notice/dependabot_configuration_notice","configurationNoticeDismissed":false,"repoAlertsPath":"/rabilrbl/jiotv_go/security/dependabot","repoSecurityAndAnalysisPath":"/rabilrbl/jiotv_go/settings/security_analysis","repoOwnerIsOrg":false,"currentUserCanAdminRepo":false},"displayName":"Dockerfile","displayUrl":"https://github.com/rabilrbl/jiotv_go/blob/main/Dockerfile?raw=true","headerInfo":{"blobSize":"831 Bytes","deleteInfo":{"deleteTooltip":"Delete the file in your fork of this project"},"editInfo":{"editTooltip":"Edit the file in your fork of this project"},"ghDesktopPath":"x-github-client://openRepo/https://github.com/rabilrbl/jiotv_go?branch=main&filepath=Dockerfile","gitLfsPath":null,"onBranch":true,"shortPath":"9efdc57","siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2Frabilrbl%2Fjiotv_go%2Fblob%2Fmain%2FDockerfile","isCSV":false,"isRichtext":false,"toc":null,"lineInfo":{"truncatedLoc":"35","truncatedSloc":"25"},"mode":"file"},"image":false,"isCodeownersFile":null,"isPlain":false,"isValidLegacyIssueTemplate":false,"issueTemplateHelpUrl":"https://docs.github.com/articles/about-issue-and-pull-request-templates","issueTemplate":null,"discussionTemplate":null,"language":"Dockerfile","languageID":89,"large":false,"loggedIn":true,"newDiscussionPath":"/rabilrbl/jiotv_go/discussions/new","newIssuePath":"/rabilrbl/jiotv_go/issues/new","planSupportInfo":{"repoIsFork":null,"repoOwnedByCurrentUser":null,"requestFullPath":"/rabilrbl/jiotv_go/blob/main/Dockerfile","showFreeOrgGatedFeatureMessage":null,"showPlanSupportBanner":null,"upgradeDataAttributes":null,"upgradePath":null},"publishBannersInfo":{"dismissActionNoticePath":"/settings/dismiss-notice/publish_action_from_dockerfile","dismissStackNoticePath":"/settings/dismiss-notice/publish_stack_from_file","releasePath":"/rabilrbl/jiotv_go/releases/new?marketplace=true","showPublishActionBanner":false,"showPublishStackBanner":false},"renderImageOrRaw":false,"richText":null,"renderedFileInfo":null,"shortPath":null,"tabSize":8,"topBannersInfo":{"overridingGlobalFundingFile":false,"globalPreferredFundingPath":null,"repoOwner":"rabilrbl","repoName":"jiotv_go","showInvalidCitationWarning":false,"citationHelpUrl":"https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/creating-a-repository-on-github/about-citation-files","showDependabotConfigurationBanner":false,"actionsOnboardingTip":null},"truncated":false,"viewable":true,"workflowRedirectUrl":null,"symbols":{"timedOut":false,"notAnalyzed":true,"symbols":[]}},"copilotInfo":{"documentationUrl":"https://docs.github.com/copilot/overview-of-github-copilot/about-github-copilot-for-individuals","notices":{"codeViewPopover":{"dismissed":false,"dismissPath":"/settings/dismiss-notice/code_view_copilot_popover"}},"userAccess":{"accessAllowed":false,"hasSubscriptionEnded":false,"orgHasCFBAccess":false,"userHasCFIAccess":false,"userHasOrgs":false,"userIsOrgAdmin":false,"userIsOrgMember":false,"business":null,"featureRequestInfo":null}},"csrf_tokens":{"/rabilrbl/jiotv_go/branches":{"post":"ZdNUXqjP9Li9q-nn1bdnZQbdpZEKjITTe5_1xbQZCZHUMi9MiC5YwaFi0Ehf77A3tchWE9EehIdSWjBWqDbgVQ"},"/repos/preferences":{"post":"37Wew0m9B9HHj-xlniWxnlBFkPsaTckHb7pcQhlpAeP8VFkk7sbHmXBg4ioYlfzIMhIprPyCae5pul1lKnLaag"}}},"title":"jiotv_go/Dockerfile at main Â· rabilrbl/jiotv_go"}